{"version":3,"sources":["helpers/GetInput.js","helpers/witness_calculator.js","helpers/ProofHelper.js","helpers/ProofHelper2.js","components/Dapp.js","redux/modules/user.js","redux/modules/nft.js","redux/configureStore.js","elements/Colors.js","elements/Button.js","elements/Copybox.js","elements/Input.js","elements/Loading.js","elements/RadioButton.js","elements/Text.js","elements/Link.js","elements/Textarea.js","elements/Spacing.js","comps/Header.js","comps/Card.js","comps/ButtonWrap.js","pages/AfterConnect.js","pages/CheckingReward.js","imgs/CheckIcon.js","imgs/FailedIcon.js","pages/Finish.js","pages/Home.js","pages/PrivateNote.js","pages/SecretClaim.js","pages/WaitngClaim.js","pages/WaitingCreatingProof.js","pages/FinishFail.js","shared/App.js","index.js"],"names":["MESSAGE","bigint_to_array","n","k","x","mod","idx","ret","x_temp","push","async","getInput","signer","sAddr","getAddress","console","log","msgHash","ethers","utils","hashMessage","msgHashBytes","arrayify","flatSig","signMessage","sig","splitSignature","r","s","pubKey","recoverPublicKey","addr","computeAddress","y","pubkey_bigint","BigInt","chunkedX","chunkedY","msghash","chunkedPubkey","merklePathElements","merklePathIndices","merkleRoot","builder","code","options","wasmModule","WebAssembly","compile","wc","instance","instantiate","runtime","exceptionHandler","errStr","message","c","exports","getMessageChar","String","fromCharCode","getMessage","Error","showSharedRWMemory","shared_rw_memory_size","getFieldNumLen32","arr","Uint32Array","j","readSharedRWMemory","fromArray32","printSharedRWMemory","WitnessCalculator","constructor","sanityCheck","this","version","getVersion","n32","getRawPrime","Array","i","prime","witnessSize","getWitnessSize","circom_version","input","init","keys","Object","forEach","h","str","uint64_max","hash","length","charCodeAt","shash","toString","repeat","concat","fnvHash","hMSB","parseInt","slice","hLSB","fArr","a","res","fillArray","isArray","flatArray","arrFr","toArray32","writeSharedRWMemory","setInputSignal","err","w","_doCalculateWitness","getWitness","buff32","buff","Uint8Array","buffer","pos","n8","idSection1lengthHex","idSection2lengthHex","size","rem","radix","unshift","Number","wasmPath","calculateProof","resp","fetch","wasmBuff","arrayBuffer","wtnsBuff","calculateWTNSBin","proof","groth16","prove","buildContractCallArgs","nullifier","pi_a","pi_b","reverse","pi_c","styled","h2","React","Component","ethereum","window","LOG_IN","GET_USER","SELECT_USER","NETWORK_ERROR","IS_LOADING","PROVIDER","MINTER","selectedAddress","createAction","user","isLoading","networkError","provider","minter","initialState","tokenData","undefined","balance","txBeingSent","transactionError","forceRefresh","_intializeEthers","_provider","providers","Web3Provider","_minter","Contract","contractAddress","AttestationMinter","AttestationMinterArtifact","abi","getSigner","handleActions","state","action","produce","draft","localStorage","setItem","payload","is_login","actionCreators","loginDB","dispatch","getState","history","networkVersion","alert","data","send","result","loginCheckDB","network","request","method","accounts","GET_PROOF","TX_HASH","getProof","txHash","contractArgs","storedProofs","getItem","currentProofs","JSON","parse","stringify","account","mint","then","response","catch","error","createBrowserHistory","rootReducer","combineReducers","nft","router","connectRouter","middlewares","thunk","withExtraArgument","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","Colors","Button","props","onClick","children","small","margin","flexGrow","styles","ButtonSmall","ButtonLarge","defaultProps","button","Input","onChange","value","placeholder","id","label","alertMessage","_ref","InputLabel","InputContainerAlert","ref","InputAlert","InputContainer","p","Loading","useEffect","LoadingStyle","width","height","viewBox","fill","xmlns","d","stroke","move","keyframes","div","RadioButton","caption","name","checked","disabled","RadioButtonWrap","RadioButtonContainer","type","RidioButtonLabel","htmlFor","RidioButtonCaption","Text","bold","opacity","TextContainer","Link","LinkContainer","Textarea","TextareaLabel","TextareaContainerAlert","TextareaAlert","TextareaContainer","textarea","Spacing","SpacingContainer","Header","connected","address","useSelector","HeaderContainer","Flex","Card","title","contents","btnRight","btnLeft","oneButton","onClickLeft","onClickRight","CardContainer","ButtonWrap","FlexContiner","ButtonContainerRight","ButtonContainerLeft","ButtonContainer","AfterConnect","useDispatch","WaitingCreatingProof","nftActions","CheckingReward","CheckIcon","FailedIcon","Finish","className","open","oneBtn","Home","setdata","useState","Balance","userActions","PrivateNote","proofs","goBack","SecretClaim","web3","Web3","givenProvider","privateNoteInputValue","useRef","addressInputValue","checkInput","current","toChecksumAddress","checkAddress","WaitngClaim","WaitngCreatingProof","FinishFail","App","isLoggedIn","on","newAddress","Fragment","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.43bffc85.chunk.js","sourcesContent":["/*eslint-disable*/\nimport { ethers } from \"ethers\";\n// import { buildPoseidon } from 'circomlibjs';\n\nconst MESSAGE = \"ZK Identity: Dark Forest Winners\";\n\nfunction bigint_to_array(n, k, x) {\n    let mod = 1n\n    for (var idx = 0; idx < n; idx++) {\n      mod = mod * 2n\n    }\n  \n    let ret = []\n    var x_temp = x\n    for (var idx = 0; idx < k; idx++) {\n      ret.push(x_temp % mod)\n      x_temp = x_temp / mod\n    }\n    return ret\n}\n\nfunction split(pubkey_bigint) {\n    const x_bigint = pubkey_bigint / 2n ** 256n\n    const y_bigint = pubkey_bigint % 2n ** 256n\n    return [x_bigint, y_bigint]\n}\n\nexport async function getInput(signer) {\n    // const poseidon = await buildPoseidon();\n\n    const sAddr = await signer.getAddress();\n    console.log(sAddr);\n\n    const msgHash = ethers.utils.hashMessage(MESSAGE);\n    const msgHashBytes = ethers.utils.arrayify(msgHash);\n\n    const flatSig = await signer.signMessage(MESSAGE);\n    const sig = ethers.utils.splitSignature(flatSig);\n    console.log(\"sig.r: \" + sig.r)\n    console.log(\"sig.s: \" + sig.s)\n\n    const pubKey = ethers.utils.recoverPublicKey(msgHashBytes, flatSig);\n    console.log(\"pubKey: \" + pubKey)\n\n    // just to double check, this addr should match the sAddr above\n    const addr = ethers.utils.computeAddress(ethers.utils.arrayify(pubKey));\n    console.log(addr);\n\n    const [x, y] = split(BigInt(pubKey))\n    const chunkedX = bigint_to_array(86, 3, x)\n    const chunkedY = bigint_to_array(86, 3, y)\n\n    // TODO: nullifier\n    // TODO: get merkleRoot, merklePathElements, and merklePathIndices\n\n    return {\n        r: bigint_to_array(86, 3, BigInt(sig.r)),\n        s: bigint_to_array(86, 3, BigInt(sig.s)),\n        msghash: bigint_to_array(86, 3, BigInt(msgHash)),\n        chunkedPubkey: [\n            chunkedX,\n            chunkedY\n        ],\n        // nullifier: poseidon(r[0]),\n        merklePathElements: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10],\n        merklePathIndices: [0, 1, 0, 1, 0, 1, 0, 1, 0, 1],\n        merkleRoot: 1234\n    }\n}\n/*eslint-disable*/\n","/* global BigInt */\n\nexport default async function builder(code, options) {\n  options = options || {};\n\n  const wasmModule = await WebAssembly.compile(code);\n\n  let wc;\n\n  const instance = await WebAssembly.instantiate(wasmModule, {\n    runtime: {\n      exceptionHandler: function (code) {\n        let errStr;\n        if (code == 1) {\n          errStr = \"Signal not found. \";\n        } else if (code == 2) {\n          errStr = \"Too many signals set. \";\n        } else if (code == 3) {\n          errStr = \"Signal already set. \";\n        } else if (code == 4) {\n          errStr = \"Assert Failed. \";\n        } else if (code == 5) {\n          errStr = \"Not enough memory. \";\n        } else {\n          errStr = \"Unknown error\\n\";\n        }\n        // get error message from wasm\n        errStr += getMessage();\n        throw new Error(errStr);\n      },\n      showSharedRWMemory: function () {\n        printSharedRWMemory();\n      },\n    },\n  });\n\n  const sanityCheck = options;\n  //        options &&\n  //        (\n  //            options.sanityCheck ||\n  //            options.logGetSignal ||\n  //            options.logSetSignal ||\n  //            options.logStartComponent ||\n  //            options.logFinishComponent\n  //        );\n\n  wc = new WitnessCalculator(instance, sanityCheck);\n  return wc;\n\n  function getMessage() {\n    var message = \"\";\n    var c = instance.exports.getMessageChar();\n    while (c != 0) {\n      message += String.fromCharCode(c);\n      c = instance.exports.getMessageChar();\n    }\n    return message;\n  }\n\n  function printSharedRWMemory() {\n    const shared_rw_memory_size = instance.exports.getFieldNumLen32();\n    const arr = new Uint32Array(shared_rw_memory_size);\n    for (let j = 0; j < shared_rw_memory_size; j++) {\n      arr[shared_rw_memory_size - 1 - j] =\n        instance.exports.readSharedRWMemory(j);\n    }\n    console.log(fromArray32(arr));\n  }\n}\n\nclass WitnessCalculator {\n  constructor(instance, sanityCheck) {\n    this.instance = instance;\n\n    this.version = this.instance.exports.getVersion();\n    this.n32 = this.instance.exports.getFieldNumLen32();\n\n    this.instance.exports.getRawPrime();\n    const arr = new Array(this.n32);\n    for (let i = 0; i < this.n32; i++) {\n      arr[this.n32 - 1 - i] = this.instance.exports.readSharedRWMemory(i);\n    }\n    this.prime = fromArray32(arr);\n\n    this.witnessSize = this.instance.exports.getWitnessSize();\n\n    this.sanityCheck = sanityCheck;\n  }\n\n  circom_version() {\n    return this.instance.exports.getVersion();\n  }\n\n  async _doCalculateWitness(input, sanityCheck) {\n    //input is assumed to be a map from signals to arrays of bigints\n    this.instance.exports.init(this.sanityCheck || sanityCheck ? 1 : 0);\n    const keys = Object.keys(input);\n    var input_counter = 0;\n    keys.forEach((k) => {\n      const h = fnvHash(k);\n      const hMSB = parseInt(h.slice(0, 8), 16);\n      const hLSB = parseInt(h.slice(8, 16), 16);\n      const fArr = flatArray(input[k]);\n      for (let i = 0; i < fArr.length; i++) {\n        const arrFr = toArray32(fArr[i], this.n32);\n        for (let j = 0; j < this.n32; j++) {\n          this.instance.exports.writeSharedRWMemory(j, arrFr[this.n32 - 1 - j]);\n        }\n        try {\n          this.instance.exports.setInputSignal(hMSB, hLSB, i);\n          input_counter++;\n        } catch (err) {\n          console.log(`After adding signal ${i} of ${k}`);\n          //         throw new Error(err);\n        }\n      }\n    });\n    // if (input_counter < this.instance.exports.getInputSize()) {\n    //     throw new Error(`Not all inputs have been set. Only ${input_counter} out of ${this.instance.exports.getInputSize()}`);\n    // }\n  }\n\n  async calculateWitness(input, sanityCheck) {\n    const w = [];\n\n    await this._doCalculateWitness(input, sanityCheck);\n\n    for (let i = 0; i < this.witnessSize; i++) {\n      this.instance.exports.getWitness(i);\n      const arr = new Uint32Array(this.n32);\n      for (let j = 0; j < this.n32; j++) {\n        arr[this.n32 - 1 - j] = this.instance.exports.readSharedRWMemory(j);\n      }\n      w.push(fromArray32(arr));\n    }\n\n    return w;\n  }\n\n  async calculateBinWitness(input, sanityCheck) {\n    const buff32 = new Uint32Array(this.witnessSize * this.n32);\n    const buff = new Uint8Array(buff32.buffer);\n    await this._doCalculateWitness(input, sanityCheck);\n\n    for (let i = 0; i < this.witnessSize; i++) {\n      this.instance.exports.getWitness(i);\n      const pos = i * this.n32;\n      for (let j = 0; j < this.n32; j++) {\n        buff32[pos + j] = this.instance.exports.readSharedRWMemory(j);\n      }\n    }\n\n    return buff;\n  }\n\n  async calculateWTNSBin(input, sanityCheck) {\n    const buff32 = new Uint32Array(this.witnessSize * this.n32 + this.n32 + 11);\n    const buff = new Uint8Array(buff32.buffer);\n    await this._doCalculateWitness(input, sanityCheck);\n\n    //\"wtns\"\n    buff[0] = \"w\".charCodeAt(0);\n    buff[1] = \"t\".charCodeAt(0);\n    buff[2] = \"n\".charCodeAt(0);\n    buff[3] = \"s\".charCodeAt(0);\n\n    //version 2\n    buff32[1] = 2;\n\n    //number of sections: 2\n    buff32[2] = 2;\n\n    //id section 1\n    buff32[3] = 1;\n\n    const n8 = this.n32 * 4;\n    //id section 1 length in 64bytes\n    const idSection1length = 8 + n8;\n    const idSection1lengthHex = idSection1length.toString(16);\n    buff32[4] = parseInt(idSection1lengthHex.slice(0, 8), 16);\n    buff32[5] = parseInt(idSection1lengthHex.slice(8, 16), 16);\n\n    //this.n32\n    buff32[6] = n8;\n\n    //prime number\n    this.instance.exports.getRawPrime();\n\n    var pos = 7;\n    for (let j = 0; j < this.n32; j++) {\n      buff32[pos + j] = this.instance.exports.readSharedRWMemory(j);\n    }\n    pos += this.n32;\n\n    // witness size\n    buff32[pos] = this.witnessSize;\n    pos++;\n\n    //id section 2\n    buff32[pos] = 2;\n    pos++;\n\n    // section 2 length\n    const idSection2length = n8 * this.witnessSize;\n    const idSection2lengthHex = idSection2length.toString(16);\n    buff32[pos] = parseInt(idSection2lengthHex.slice(0, 8), 16);\n    buff32[pos + 1] = parseInt(idSection2lengthHex.slice(8, 16), 16);\n\n    pos += 2;\n    for (let i = 0; i < this.witnessSize; i++) {\n      this.instance.exports.getWitness(i);\n      for (let j = 0; j < this.n32; j++) {\n        buff32[pos + j] = this.instance.exports.readSharedRWMemory(j);\n      }\n      pos += this.n32;\n    }\n\n    return buff;\n  }\n}\n\nfunction toArray32(s, size) {\n  const res = []; //new Uint32Array(size); //has no unshift\n  let rem = BigInt(s);\n  const radix = BigInt(0x100000000);\n  while (rem) {\n    res.unshift(Number(rem % radix));\n    rem = rem / radix;\n  }\n  if (size) {\n    var i = size - res.length;\n    while (i > 0) {\n      res.unshift(0);\n      i--;\n    }\n  }\n  return res;\n}\n\nfunction fromArray32(arr) {\n  //returns a BigInt\n  var res = BigInt(0);\n  const radix = BigInt(0x100000000);\n  for (let i = 0; i < arr.length; i++) {\n    res = res * radix + BigInt(arr[i]);\n  }\n  return res;\n}\n\nfunction flatArray(a) {\n  var res = [];\n  fillArray(res, a);\n  return res;\n\n  function fillArray(res, a) {\n    if (Array.isArray(a)) {\n      for (let i = 0; i < a.length; i++) {\n        fillArray(res, a[i]);\n      }\n    } else {\n      res.push(a);\n    }\n  }\n}\n\nfunction fnvHash(str) {\n  const uint64_max = BigInt(2) ** BigInt(64);\n  let hash = BigInt(\"0xCBF29CE484222325\");\n  for (var i = 0; i < str.length; i++) {\n    hash ^= BigInt(str[i].charCodeAt());\n    hash *= BigInt(0x100000001b3);\n    hash %= uint64_max;\n  }\n  let shash = hash.toString(16);\n  let n = 16 - shash.length;\n  shash = \"0\".repeat(n).concat(shash);\n  return shash;\n}\n","import builder from \"./witness_calculator\";\nimport { groth16 } from \"snarkjs\";\nimport path from \"path\";\nimport { modules } from \"web3\";\n\nconst zkeyPath = \"./VerifyDfWinner_86-3-8_prod.0.zkey\";\nconst wasmPath = \"./VerifyDfWinner_86-3-8_prod.wasm\";\n\nexport default async function calculateProof(input) {\n  // fullProve like below does not work\n  // other people also raised the issue in snarkjs repo\n  // const { proof } = await groth16.fullProve(zkeyPath, wasmPath, null)\n  console.log(\"wasmPath: \", wasmPath);\n  let resp = await fetch(wasmPath);\n  console.log(\"resp: \", resp);\n  const wasmBuff = await resp.arrayBuffer();\n  const wc = await builder(wasmBuff);\n  const wtnsBuff = await wc.calculateWTNSBin(input, 0);\n  console.log(\"wtnsBuff: \", wtnsBuff);\n  const { proof } = await groth16.prove(zkeyPath, wtnsBuff, null);\n  console.log(\"proof: \", proof);\n  return proof;\n}\n","import { groth16 } from \"snarkjs\";\nimport path from \"path\";\n\nconst zkeyPath = \"./VerifyDfWinner_86-3-8_prod.0.zkey\";\nconst wasmPath = \"./VerifyDfWinner_86-3-8_prod.wasm\";\n\nexport default function buildContractCallArgs(proof, merkleRoot, nullifier) {\n  // the object returned by calculateProof needs to be massaged into a set of parameters the verifying contract\n  // will accept\n  return [\n    proof.pi_a.slice(0, 2), // pi_a\n    // calculateProof reverses values in the inner arrays of pi_b\n    [proof.pi_b[0].slice(0).reverse(), proof.pi_b[1].slice(0).reverse()], // pi_b\n    proof.pi_c.slice(0, 2), // pi_c\n    merkleRoot,\n    nullifier,\n  ];\n}\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\n// We'll use ethers to interact with the Ethereum network and our contract\nimport { ethers } from \"ethers\";\n\n// We import the contract's artifacts and address here, as we are going to be\n// using them with ethers\nimport AttestationMinterArtifact from \"../contracts/AttestationMinter.json\";\nimport contractAddress from \"../contracts/contract-address.json\";\n\n// All the logic of this dapp is contained in the Dapp component.\n// These other components are just presentational ones: they don't have any\n// logic. They just render HTML.\nimport { NoWalletDetected } from \"./NoWalletDetected\";\nimport { ConnectWallet } from \"./ConnectWallet\";\nimport { Loading } from \"./Loading\";\nimport { Transfer } from \"./Transfer\";\nimport { TransactionErrorMessage } from \"./TransactionErrorMessage\";\nimport { WaitingForTransactionMessage } from \"./WaitingForTransactionMessage\";\nimport { NoTokensMessage } from \"./NoTokensMessage\";\n\nimport { getInput } from \"../helpers/GetInput\";\nimport calculateProof from \"../helpers/ProofHelper\";\nimport buildContractCallArgs from \"../helpers/ProofHelper2\";\n\n// This is the Hardhat Network id, you might change it in the hardhat.config.js\n// Here's a list of network ids https://docs.metamask.io/guide/ethereum-provider.html#properties\n// to use when deploying to other networks.\nconst HARDHAT_NETWORK_ID = \"31337\";\nconst GOERLI_NETWORK_ID = \"5\";\n\n// This is an error code that indicates that the user canceled a transaction\nconst ERROR_CODE_TX_REJECTED_BY_USER = 4001;\n\nconst Title = styled.h2``;\n\nexport class Dapp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // We store multiple things in Dapp's state.\n    // You don't need to follow this pattern, but it's an useful example.\n    this.initialState = {\n      // The info of the token (i.e. It's Name and symbol)\n      tokenData: undefined,\n      // The user's address and balance\n      selectedAddress: undefined,\n      balance: undefined,\n      // The ID about transactions being sent, and any possible error with them\n      txBeingSent: undefined,\n      transactionError: undefined,\n      networkError: undefined,\n      forceRefresh: 0,\n    };\n\n    this.state = this.initialState;\n  }\n\n  render() {\n    // Ethereum wallets inject the window.ethereum object. If it hasn't been\n    // injected, we instruct the user to install MetaMask.\n    if (window.ethereum === undefined) {\n      return <NoWalletDetected />;\n    }\n\n    // The next thing we need to do, is to ask the user to connect their wallet.\n    // When the wallet gets connected, we are going to save the users's address\n    // in the component's state. So, if it hasn't been saved yet, we have\n    // to show the ConnectWallet component.\n    //\n    // Note that we pass it a callback that is going to be called when the user\n    // clicks a button. This callback just calls the _connectWallet method.\n    if (!this.state.selectedAddress) {\n      return (\n        <ConnectWallet\n          connectWallet={() => this._connectWallet()}\n          networkError={this.state.networkError}\n          dismiss={() => this._dismissNetworkError()}\n        />\n      );\n    }\n\n    // If the token data or the user's balance hasn't loaded yet, we show\n    // a loading component.\n    // if (!this.state.tokenData || !this.state.balance) {\n    //   return <Loading />\n    // }\n\n    const proofs = JSON.parse(window.localStorage.getItem(\"proofs\"));\n    const usedProofs = JSON.parse(window.localStorage.getItem(\"usedProofs\"));\n    console.log(usedProofs);\n    // const usedProofs = JSON.parse(jsonUsedProofs)\n\n    // If everything is loaded, we render the application.\n    return (\n      <div className=\"container p-4\">\n        Hello: {this.state.selectedAddress}\n        <button\n          onClick={() =>\n            this._handleProve(() =>\n              this.setState({ forceRefresh: this.forceRefresh + 1 })\n            )\n          }\n        >\n          Create Proof\n        </button>\n        <Title>Proofs:</Title>\n        {proofs?.map((proof, index) => (\n          <div>\n            Proof {proof.address} {index} -{\" \"}\n            <button\n              onClick={() =>\n                this._handleVerify(index, this.selectedAddress, proof, () =>\n                  this.setState({ forceRefresh: this.forceRefresh + 1 })\n                )\n              }\n            >\n              Mint NFT\n            </button>\n          </div>\n        ))}\n        <Title>Used proofs:</Title>\n        {usedProofs?.map((proof, index) => (\n          <div>Proof - {proof.address}</div>\n        ))}\n      </div>\n    );\n  }\n\n  componentWillUnmount() {\n    // We poll the user's balance, so we have to stop doing that when Dapp\n    // gets unmounted\n    this._stopPollingData();\n  }\n\n  async _handleProve(forceRefresh) {\n    // ethers signMessage\n    // get publicKey and generate chunked pub key\n    // generate nullifier from signed message\n    console.log(\"Calculate Proof\");\n\n    const input = await getInput(this._provider.getSigner(0));\n    console.log(input);\n\n    const proof = await calculateProof(input);\n    console.log(proof);\n\n    const merkleRoot = 1234;\n    const nullifier = 10;\n    const contractArgs = buildContractCallArgs(proof, merkleRoot, nullifier);\n    console.log(contractArgs);\n\n    // save proof to localStorage\n    const storedProofs = window.localStorage.getItem(\"proofs\");\n    const currentProofs = storedProofs ? JSON.parse(storedProofs) : [];\n    window.localStorage.setItem(\n      \"proofs\",\n      JSON.stringify([...currentProofs, contractArgs])\n    );\n    forceRefresh();\n  }\n\n  async _handleVerify(index, account, proof, forceRefresh) {\n    // take proof and call smart contract\n    const proofs = JSON.parse(window.localStorage.getItem(\"proofs\"));\n\n    window.localStorage.setItem(\n      \"proofs\",\n      JSON.stringify(proofs.filter((item) => item.address === account))\n    );\n\n    // NOTE: this assumes that proof is the proper output from `buildContractCallArgs\n    const tx = await this._minter.mint(\n      proof[0],\n      proof[1],\n      proof[2],\n      proof[3],\n      proof[4]\n    );\n    const receipt = await tx.wait();\n    // TODO: txBeingSent and all that jazz. like in the unused transfer message\n\n    if (receipt.status !== 0) {\n      const storedProofs = window.localStorage.getItem(\"usedProofs\");\n      const usedProofs = storedProofs ? JSON.parse(storedProofs) : [];\n      window.localStorage.setItem(\n        \"usedProofs\",\n        JSON.stringify([...usedProofs, proof])\n      );\n    }\n\n    forceRefresh();\n  }\n\n  async _connectWallet() {\n    // This method is run when the user clicks the Connect. It connects the\n    // dapp to the user's wallet, and initializes it.\n\n    // To connect to the user's wallet, we have to run this method.\n    // It returns a promise that will resolve to the user's address.\n    const [selectedAddress] = await window.ethereum.enable();\n\n    // Once we have the address, we can initialize the application.\n\n    // First we check the network\n    if (!this._checkNetwork()) {\n      return;\n    }\n\n    this._initialize(selectedAddress);\n\n    // We reinitialize it whenever the user changes their account.\n    window.ethereum.on(\"accountsChanged\", ([newAddress]) => {\n      this._stopPollingData();\n      // `accountsChanged` event can be triggered with an undefined newAddress.\n      // This happens when the user removes the Dapp from the \"Connected\n      // list of sites allowed access to your addresses\" (Metamask > Settings > Connections)\n      // To avoid errors, we reset the dapp state\n      if (newAddress === undefined) {\n        return this._resetState();\n      }\n\n      this._initialize(newAddress);\n    });\n\n    // We reset the dapp state if the network is changed\n    window.ethereum.on(\"networkChanged\", ([networkId]) => {\n      this._stopPollingData();\n      this._resetState();\n    });\n  }\n\n  _initialize(userAddress) {\n    // This method initializes the dapp\n\n    // We first store the user's address in the component's state\n    this.setState({\n      selectedAddress: userAddress,\n    });\n\n    // Then, we initialize ethers + contract\n    this._intializeEthers();\n  }\n\n  async _intializeEthers() {\n    // We first initialize ethers by creating a provider using window.ethereum\n    this._provider = new ethers.providers.Web3Provider(window.ethereum);\n\n    this._minter = new ethers.Contract(\n      contractAddress.AttestationMinter,\n      AttestationMinterArtifact.abi,\n      this._provider.getSigner(0)\n    );\n  }\n\n  // The next two methods are needed to start and stop polling data. While\n  // the data being polled here is specific to this example, you can use this\n  // pattern to read any data from your contracts.\n  //\n  // Note that if you don't need it to update in near real time, you probably\n  // don't need to poll it. If that's the case, you can just fetch it when you\n  // initialize the app, as we do with the token data.\n  _startPollingData() {\n    this._pollDataInterval = setInterval(() => this._updateBalance(), 1000);\n\n    // We run it once immediately so we don't have to wait for it\n    this._updateBalance();\n  }\n\n  _stopPollingData() {\n    clearInterval(this._pollDataInterval);\n    this._pollDataInterval = undefined;\n  }\n\n  // The next two methods just read from the contract and store the results\n  // in the component state.\n  // async _getTokenData() {\n  //   const name = await this._token.name()\n  //   const symbol = await this._token.symbol()\n\n  //   this.setState({ tokenData: { name, symbol } })\n  // }\n\n  async _updateBalance() {\n    const balance = await this._token.balanceOf(this.state.selectedAddress);\n    this.setState({ balance });\n  }\n\n  // This method sends an ethereum transaction to transfer tokens.\n  // While this action is specific to this application, it illustrates how to\n  // send a transaction.\n  async _transferTokens(to, amount) {\n    // Sending a transaction is a complex operation:\n    //   - The user can reject it\n    //   - It can fail before reaching the ethereum network (i.e. if the user\n    //     doesn't have ETH for paying for the tx's gas)\n    //   - It has to be mined, so it isn't immediately confirmed.\n    //     Note that some testing networks, like Hardhat Network, do mine\n    //     transactions immediately, but your dapp should be prepared for\n    //     other networks.\n    //   - It can fail once mined.\n    //\n    // This method handles all of those things, so keep reading to learn how to\n    // do it.\n\n    try {\n      // If a transaction fails, we save that error in the component's state.\n      // We only save one such error, so before sending a second transaction, we\n      // clear it.\n      this._dismissTransactionError();\n\n      // We send the transaction, and save its hash in the Dapp's state. This\n      // way we can indicate that we are waiting for it to be mined.\n      const tx = await this._token.transfer(to, amount);\n      this.setState({ txBeingSent: tx.hash });\n\n      // We use .wait() to wait for the transaction to be mined. This method\n      // returns the transaction's receipt.\n      const receipt = await tx.wait();\n\n      // The receipt, contains a status flag, which is 0 to indicate an error.\n      if (receipt.status === 0) {\n        // We can't know the exact error that made the transaction fail when it\n        // was mined, so we throw this generic one.\n        throw new Error(\"Transaction failed\");\n      }\n\n      // If we got here, the transaction was successful, so you may want to\n      // update your state. Here, we update the user's balance.\n      await this._updateBalance();\n    } catch (error) {\n      // We check the error code to see if this error was produced because the\n      // user rejected a tx. If that's the case, we do nothing.\n      if (error.code === ERROR_CODE_TX_REJECTED_BY_USER) {\n        return;\n      }\n\n      // Other errors are logged and stored in the Dapp's state. This is used to\n      // show them to the user, and for debugging.\n      console.error(error);\n      this.setState({ transactionError: error });\n    } finally {\n      // If we leave the try/catch, we aren't sending a tx anymore, so we clear\n      // this part of the state.\n      this.setState({ txBeingSent: undefined });\n    }\n  }\n\n  // This method just clears part of the state.\n  _dismissTransactionError() {\n    this.setState({ transactionError: undefined });\n  }\n\n  // This method just clears part of the state.\n  _dismissNetworkError() {\n    this.setState({ networkError: undefined });\n  }\n\n  // This is an utility method that turns an RPC error into a human readable\n  // message.\n  _getRpcErrorMessage(error) {\n    if (error.data) {\n      return error.data.message;\n    }\n\n    return error.message;\n  }\n\n  // This method resets the state\n  _resetState() {\n    this.setState(this.initialState);\n  }\n\n  // This method checks if Metamask selected network is Localhost:8545 or goerli\n  _checkNetwork() {\n    if (\n      window.ethereum.networkVersion === HARDHAT_NETWORK_ID ||\n      window.ethereum.networkVersion === GOERLI_NETWORK_ID\n    ) {\n      return true;\n    }\n\n    this.setState({\n      networkError: \"Please connect Metamask to Localhost:8545 or goerli\",\n    });\n\n    return false;\n  }\n}\n","import { createAction, handleActions } from \"redux-actions\";\nimport { produce } from \"immer\";\nimport { ethers } from \"ethers\";\n\nimport AttestationMinterArtifact from \"../../contracts/AttestationMinter.json\";\nimport contractAddress from \"../../contracts/contract-address.json\";\n\nconst { ethereum } = window;\n\n// actions\nconst LOG_IN = \"LOG_IN\";\nconst GET_USER = \"GET_USER\";\nconst SELECT_USER = \"SELECT_USER\";\nconst NETWORK_ERROR = \"NETWORK_ERROR\";\nconst IS_LOADING = \"IS_LOADING\";\nconst PROVIDER = \"PROVIDER\";\nconst MINTER = \"MINTER\";\n\n// action creators\nconst login = createAction(LOG_IN, (user) => ({ user }));\nconst getUser = createAction(GET_USER, (user) => ({ user }));\nconst selectedAddress = createAction(SELECT_USER, (selectedAddress) => ({\n  selectedAddress,\n}));\nconst networkError = createAction(NETWORK_ERROR, (networkError) => ({\n  networkError,\n}));\nconst isLoading = createAction(IS_LOADING, (isLoading) => ({ isLoading }));\nconst provider = createAction(PROVIDER, (provider) => ({ provider }));\nconst minter = createAction(MINTER, (minter) => ({ minter }));\n\n//네트워크 설정\nconst HARDHAT_NETWORK_ID = \"31337\";\nconst GOERLI_NETWORK_ID = \"5\";\nconst ERROR_CODE_TX_REJECTED_BY_USER = 4001;\n\n// initialState\nconst initialState = {\n  tokenData: undefined,\n  selectedAddress: undefined,\n  balance: undefined,\n  txBeingSent: undefined,\n  transactionError: undefined,\n  networkError: undefined,\n  forceRefresh: 0,\n  isLoading: false,\n  provider: undefined,\n  minter: undefined,\n};\n\n// middleware actions\nconst _checkNetwork = () => {\n  if (\n    ethereum.networkVersion === HARDHAT_NETWORK_ID ||\n    ethereum.networkVersion === GOERLI_NETWORK_ID\n  ) {\n    console.log(\"true\");\n    return true;\n  }\n  console.log(\"false\");\n  return false;\n};\n\nconst _intializeEthers = () => {\n  const _provider = new ethers.providers.Web3Provider(window.ethereum);\n  const _minter = new ethers.Contract(\n    contractAddress.AttestationMinter,\n    AttestationMinterArtifact.abi,\n    _provider.getSigner(0)\n  );\n\n  return {\n    provider: _provider,\n    minter: _minter,\n  };\n};\n\nconst loginDB = () => {\n  return async function (dispatch, getState, { history }) {\n    if (_checkNetwork() === false) {\n      alert(\"Please connect Metamask to Localhost:8545 or goerli\");\n      return;\n    }\n\n    dispatch(isLoading(true));\n    const data = await ethereum.send(\"eth_requestAccounts\");\n    dispatch(selectedAddress(data.result[0]));\n    dispatch(isLoading(false));\n    _intializeEthers();\n\n    dispatch(provider(_intializeEthers().provider));\n    dispatch(minter(_intializeEthers().minter));\n  };\n};\n\nconst loginCheckDB = () => {\n  _intializeEthers();\n  return async function (dispatch, getState, { history }) {\n    const network = await ethereum.request({ method: \"net_version\" });\n\n    if (Number(network) === 5 || 31337) {\n      const accounts = await ethereum.request({\n        method: \"eth_accounts\",\n      });\n      console.log(accounts);\n      dispatch(selectedAddress(accounts[0]));\n    } else {\n      dispatch(provider(undefined));\n      dispatch(minter(undefined));\n      return;\n    }\n    _intializeEthers();\n\n    dispatch(provider(_intializeEthers().provider));\n    dispatch(minter(_intializeEthers().minter));\n  };\n};\n\n// reducer\nexport default handleActions(\n  {\n    [LOG_IN]: (state, action) =>\n      produce(state, (draft) => {\n        localStorage.setItem(\"is_login\", \"success\");\n        draft.user = action.payload.user;\n        draft.is_login = true;\n      }),\n    [GET_USER]: (state, action) => produce(state, (draft) => {}),\n    [SELECT_USER]: (state, action) =>\n      produce(state, (draft) => {\n        draft.selectedAddress = action.payload.selectedAddress;\n      }),\n    [NETWORK_ERROR]: (state, action) => produce(state, (draft) => {}),\n    [IS_LOADING]: (state, action) =>\n      produce(state, (draft) => {\n        draft.isLoading = action.payload.isLoading;\n      }),\n    [PROVIDER]: (state, action) =>\n      produce(state, (draft) => {\n        draft.provider = action.payload.provider;\n      }),\n    [MINTER]: (state, action) =>\n      produce(state, (draft) => {\n        draft.minter = action.payload.minter;\n      }),\n  },\n  initialState\n);\n\n// action creator export\nconst actionCreators = { loginDB, loginCheckDB, selectedAddress };\n\nexport { actionCreators };\n","import { createAction, handleActions } from \"redux-actions\";\nimport { produce } from \"immer\";\n\nimport { getInput } from \"../../helpers/GetInput\";\nimport calculateProof from \"../../helpers/ProofHelper\";\nimport buildContractCallArgs from \"../../helpers/ProofHelper2\";\nimport { useSelector } from \"react-redux\";\n\nconst { ethereum } = window;\n\n// actions\nconst GET_PROOF = \"GET_PROOF\";\nconst IS_LOADING = \"IS_LOADING\";\nconst TX_HASH = \"TX_HASH\";\n\n// action creators\nconst getProof = createAction(GET_PROOF, (getProof) => ({ getProof }));\nconst isLoading = createAction(IS_LOADING, (isLoading) => ({ isLoading }));\nconst txHash = createAction(TX_HASH, (txHash) => ({ txHash }));\n\n// initialState\nconst initialState = {\n  getProof: undefined,\n  isLoading: false,\n  txHash: undefined,\n};\n\n// middleware actions\n\nconst _handleProve = (_provider) => {\n  return async function (dispatch, getState, { history }) {\n    dispatch(isLoading(true));\n\n    const input = await getInput(_provider.getSigner(0));\n\n    const proof = await calculateProof(input);\n    console.log(proof);\n\n    const merkleRoot = 1234;\n    const nullifier = 10;\n    const contractArgs = buildContractCallArgs(proof, merkleRoot, nullifier);\n    console.log(contractArgs);\n\n    // save proof to localStorage\n    const storedProofs = window.localStorage.getItem(\"proofs\");\n    const currentProofs = storedProofs ? JSON.parse(storedProofs) : [];\n    window.localStorage.setItem(\n      \"proofs\",\n      JSON.stringify([...currentProofs, contractArgs])\n    );\n    dispatch(isLoading(false));\n    alert(\"A proof has created!\");\n    history.push(\"/3\");\n  };\n};\n\nconst _handleVerify = (account, proof, minter) => {\n  return async function (dispatch, getState, { history }) {\n    dispatch(isLoading(true));\n    await minter\n      .mint(proof[0], proof[1], proof[2], proof[3], proof[4])\n      .then((response) => {\n        console.log(response.hash);\n        dispatch(txHash(response.hash));\n        dispatch(isLoading(false));\n        history.push(\"/6\");\n      })\n      .catch((error) => {\n        console.error(error.message);\n        dispatch(isLoading(false));\n        history.push(\"/fail\");\n      });\n  };\n};\n\n// reducer\nexport default handleActions(\n  {\n    [GET_PROOF]: (state, action) =>\n      produce(state, (draft) => {\n        draft.getProof = action.payload.getProof;\n      }),\n    [IS_LOADING]: (state, action) =>\n      produce(state, (draft) => {\n        draft.isLoading = action.payload.isLoading;\n      }),\n    [TX_HASH]: (state, action) =>\n      produce(state, (draft) => {\n        draft.txHash = action.payload.txHash;\n      }),\n  },\n  initialState\n);\n\n// action creator export\nconst actionCreators = { _handleProve, getProof, _handleVerify };\n\nexport { actionCreators };\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\nimport { connectRouter } from \"connected-react-router\";\n\nimport user from \"./modules/user\";\nimport nft from \"./modules/nft\";\n\nexport const history = createBrowserHistory();\n\nconst rootReducer = combineReducers({\n  user: user,\n  nft: nft,\n  router: connectRouter(history),\n});\n\nconst middlewares = [thunk.withExtraArgument({ history: history })];\n\n// 지금이 어느 환경인 지 알려줘요. (개발환경, 프로덕션(배포)환경 ...)\nconst env = process.env.NODE_ENV;\n\n// 개발환경에서는 로거라는 걸 하나만 더 써볼게요.\nif (env === \"development\") {\n  const { logger } = require(\"redux-logger\");\n  middlewares.push(logger);\n}\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(...middlewares));\n\nlet store = (initialStore) => createStore(rootReducer, enhancer);\n\nexport default store();\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Colors = {\n  surface: \"#141414\",\n  primary: \"#6BAAFF\",\n  second: \"#FFFFFF\",\n  alert: \"#FF6B73\",\n  text: \"#FFFFFF\",\n  approve: \"#00FF94\",\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nconst Button = (props) => {\n  const { onClick, children, small, margin, flexGrow } = props;\n\n  const styles = {\n    margin: margin,\n    flexGrow: flexGrow,\n  };\n\n  if (small) {\n    return (\n      <ButtonSmall onClick={onClick} {...styles}>\n        {children}\n      </ButtonSmall>\n    );\n  }\n\n  return (\n    <ButtonLarge onClick={onClick} {...styles}>\n      {children}\n    </ButtonLarge>\n  );\n};\n\nexport default Button;\n\nButton.defaultProps = {\n  margin: 0,\n  flexGrow: 0,\n};\n\nconst ButtonLarge = styled.button`\n  height: fit-content;\n  width: fit-content;\n  padding: 12px;\n  margin: ${(props) => props.margin};\n  background-color: transparent;\n  color: ${Colors.primary};\n  border: 1px solid transparent;\n  border-radius: 6px;\n  font-weight: 700;\n  flex-grow: ${(props) => props.flexGrow};\n\n  :hover {\n    border: 1px solid ${Colors.primary};\n    cursor: pointer;\n  }\n  :focus {\n    border: 1px solid ${Colors.primary};\n    box-shadow: 0px 0px 6px ${Colors.primary};\n    cursor: pointer;\n  }\n`;\n\nconst ButtonSmall = styled.button`\n  height: fit-content;\n  width: fit-content;\n  padding: 4px;\n  background-color: transparent;\n  color: ${Colors.second};\n  border: 1px solid transparent;\n  border-radius: 2px;\n  font-weight: 400;\n\n  :hover {\n    border: 1px solid ${Colors.second};\n    cursor: pointer;\n  }\n  :focus {\n    border: 1px solid ${Colors.second};\n    box-shadow: 0px 0px 8px rgba(255, 255, 255, 0.5);\n    cursor: pointer;\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Copybox = (props) => {\n  const { _onClick, children, small } = props;\n\n  const styles = {};\n\n  return <ButtonContainer>header</ButtonContainer>;\n};\n\nexport default Copybox;\n\nconst ButtonContainer = styled.button`\n  height: 32px;\n  width: 100%;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nconst Input = (props) => {\n  const { onChange, value, placeholder, id, label, alert, alertMessage, _ref } =\n    props;\n\n  const styles = { _ref };\n\n  if (alert) {\n    return (\n      <>\n        <InputLabel id={id}>{label}</InputLabel>\n        <InputContainerAlert\n          id={id}\n          value={value}\n          placeholder={placeholder}\n          onChange={onChange}\n          ref={_ref}\n        ></InputContainerAlert>\n        <InputAlert>{alertMessage}</InputAlert>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <InputLabel id={id}>{label}</InputLabel>\n      <InputContainer\n        id={id}\n        value={value}\n        placeholder={placeholder}\n        onChange={onChange}\n        ref={_ref}\n      ></InputContainer>\n    </>\n  );\n};\n\nexport default Input;\n\nInput.defaultProps = {\n  alert: false,\n};\n\nconst InputContainer = styled.input`\n  height: fit-content;\n  width: 100%;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  color: ${Colors.text};\n  border: 1px solid transparent;\n  border-radius: 2px;\n\n  :focus {\n    border: 1px solid ${Colors.primary};\n    box-shadow: 0px 0px 6px ${Colors.primary};\n  }\n\n  :focus-visible {\n    outline: none;\n  }\n\n  ::placeholder {\n    color: ${Colors.text};\n    opacity: 0.3;\n  }\n`;\n\nconst InputContainerAlert = styled.input`\n  height: fit-content;\n  width: 100%;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  color: ${Colors.text};\n  border: 1px solid ${Colors.alert};\n  border-radius: 2px;\n\n  :focus {\n    box-shadow: 0px 0px 6px ${Colors.alert};\n  }\n\n  :focus-visible {\n    outline: none;\n  }\n\n  ::placeholder {\n    color: ${Colors.text};\n    opacity: 0.3;\n  }\n`;\n\nconst InputLabel = styled.label`\n  color: ${Colors.text};\n`;\n\nconst InputAlert = styled.p`\n  color: ${Colors.alert};\n  padding-top: 4px;\n`;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nfunction Loading() {\n  React.useEffect(() => {\n    console.log(\"hi\");\n  }, []);\n  return (\n    <LoadingStyle>\n      <svg\n        width=\"19\"\n        height=\"19\"\n        viewBox=\"0 0 19 19\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M18 9.5C18 14.1944 14.1944 18 9.5 18C4.80558 18 1 14.1944 1 9.5C1 4.80558 4.80558 1 9.5 1\"\n          stroke=\"#6BAAFF\"\n        />\n      </svg>\n    </LoadingStyle>\n  );\n}\n\nexport default Loading;\n\nconst move = keyframes`\n\t//단계 별로 변화를 주는 코드\n\t0%{\n    transform: rotate(0deg);\n    }\n    \n    25%{\n    \ttransform: rotate(90deg);\n    }\n    \n    50%{\n    \ttransform: rotate(180deg);\n    }\n    \n    75%{\n    \ttransform: rotate(270deg);\n    }\n    \n    100%{\n    \ttransform: rotate(360deg);\n    }\n`;\n\nconst LoadingStyle = styled.div`\n  width: fit-content;\n  height: fit-content;\n  animation: ${move} 1s infinite;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"./index\";\nimport { Colors } from \"./Colors\";\n\nconst RadioButton = (props) => {\n  const { id, label, caption, name, children, margin, checked, disabled } =\n    props;\n\n  const styles = { margin, checked };\n\n  return (\n    <RadioButtonWrap {...styles}>\n      <RadioButtonContainer\n        {...styles}\n        id={id}\n        name={name}\n        disabled={disabled}\n        type=\"radio\"\n      />\n      <RidioButtonLabel\n        {...styles}\n        checked={checked}\n        margin=\"0 0 0 8px\"\n        htmlFor={id}\n        name={name}\n      >\n        {label}\n      </RidioButtonLabel>\n      <RidioButtonCaption\n        {...styles}\n        checked={checked}\n        margin=\"4px 20px\"\n        htmlFor={id}\n        name={name}\n      >\n        {children}\n      </RidioButtonCaption>\n    </RadioButtonWrap>\n  );\n};\n\nexport default RadioButton;\n\nconst RadioButtonWrap = styled.div`\n  width: 100%;\n  height: fit-content;\n  margin: ${(props) => props.margin};\n  :hover {\n    cursor: pointer;\n  }\n`;\n\nconst RidioButtonLabel = styled.label`\n  margin: ${(props) => props.margin};\n  :hover {\n    cursor: pointer;\n  }\n`;\n\nconst RidioButtonCaption = styled.label`\n  display: inline-block;\n  margin: ${(props) => props.margin};\n  opacity: 0.5;\n  :hover {\n    cursor: pointer;\n  }\n`;\n\nconst RadioButtonContainer = styled.input`\n  :hover {\n    cursor: pointer;\n  }\n  :checked {\n  }\n  &:checked + ${RidioButtonLabel} {\n    color: ${Colors.approve};\n  }\n`;\n","import React, { Children } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nconst Text = (props) => {\n  const { bold, children, margin, flexGrow, opacity, alert } = props;\n\n  const styles = {\n    margin: margin,\n    flexGrow: flexGrow,\n    bold: bold,\n    opacity: opacity,\n    alert,\n  };\n\n  return <TextContainer {...styles}>{children}</TextContainer>;\n};\n\nText.defaultProps = {\n  margin: 0,\n  flexGrow: 0,\n  bold: null,\n  opacity: 1,\n};\n\nexport default Text;\n\nconst TextContainer = styled.p`\n  ${(props) => (props.bold ? `font-weight: 700` : null)};\n  margin: ${(props) => props.margin};\n  opacity: ${(props) => props.opacity};\n  color: ${(props) => (props.alert ? `${Colors.alert}` : `${Colors.text}`)};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nconst Link = (props) => {\n  const { children, onClick } = props;\n\n  const styles = {};\n\n  return (\n    <LinkContainer {...styles} onClick={onClick}>\n      {children}\n    </LinkContainer>\n  );\n};\n\nexport default Link;\n\nconst LinkContainer = styled.button`\n  color: ${Colors.second};\n  text-decoration-line: underline;\n  background: none;\n  border: none;\n  margin: 0;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nconst Textarea = (props) => {\n  const {\n    onChange,\n    value,\n    placeholder,\n    id,\n    label,\n    alert,\n    alertMessage,\n    height,\n    _ref,\n  } = props;\n\n  const styles = {\n    height: height,\n    _ref,\n  };\n\n  if (alert) {\n    return (\n      <>\n        <TextareaLabel id={id}>{label}</TextareaLabel>\n        <TextareaContainerAlert\n          {...styles}\n          id={id}\n          value={value}\n          placeholder={placeholder}\n          onChange={onChange}\n          ref={_ref}\n        ></TextareaContainerAlert>\n        <TextareaAlert>{alertMessage}</TextareaAlert>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <TextareaLabel id={id}>{label}</TextareaLabel>\n      <TextareaContainer\n        {...styles}\n        id={id}\n        value={value}\n        placeholder={placeholder}\n        onChange={onChange}\n        ref={_ref}\n      ></TextareaContainer>\n    </>\n  );\n};\n\nexport default Textarea;\n\nTextarea.defaultProps = {\n  alert: false,\n  height: \"100px\",\n};\n\nconst TextareaContainer = styled.textarea`\n  height: ${(props) => props.height};\n  width: 100%;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  color: ${Colors.text};\n  border: 1px solid transparent;\n  border-radius: 2px;\n  resize: none;\n\n  :focus {\n    border: 1px solid ${Colors.primary};\n    box-shadow: 0px 0px 6px ${Colors.primary};\n  }\n\n  :focus-visible {\n    outline: none;\n  }\n\n  ::placeholder {\n    color: ${Colors.text};\n    opacity: 0.3;\n  }\n`;\n\nconst TextareaContainerAlert = styled.textarea`\n  height: ${(props) => props.height};\n  width: 100%;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  color: ${Colors.text};\n  border: 1px solid ${Colors.alert};\n  border-radius: 2px;\n\n  :focus {\n    box-shadow: 0px 0px 6px ${Colors.alert};\n  }\n\n  :focus-visible {\n    outline: none;\n  }\n\n  ::placeholder {\n    color: ${Colors.text};\n    opacity: 0.3;\n  }\n`;\n\nconst TextareaLabel = styled.label`\n  color: ${Colors.text};\n`;\n\nconst TextareaAlert = styled.p`\n  color: ${Colors.alert};\n  padding-top: 4px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Spacing = (props) => {\n  const { size } = props;\n\n  const styles = {\n    size: size,\n  };\n\n  return <SpacingContainer {...styles} />;\n};\n\nSpacing.defaultProps = {\n  height: \"inherit\",\n  width: \"inherit\",\n};\n\nexport default Spacing;\n\nconst SpacingContainer = styled.div`\n  height: ${(props) => props.size};\n  width: ${(props) => props.size};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button, Link, Text } from \"../elements\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst { ethereum } = window;\n\nconst Header = (props) => {\n  const { connected, address } = props;\n\n  const selectedAddress = useSelector((state) => state.user.selectedAddress);\n\n  const styles = {};\n\n  return (\n    <HeaderContainer {...styles}>\n      {connected ? (\n        <Flex>\n          <Text margin=\"0 8px 0 0\">{selectedAddress}</Text>\n        </Flex>\n      ) : (\n        <></>\n      )}\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n\nconst HeaderContainer = styled.div`\n  height: fit-content;\n  padding: 8px;\n  width: 100%;\n`;\nconst Flex = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n`;\n","import React, { Children } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../elements/Colors\";\nimport { ButtonWrap } from \"./index\";\nimport { Button, Text, Spacing } from \"../elements\";\n\nconst Card = (props) => {\n  const {\n    title,\n    contents,\n    btnRight,\n    btnLeft,\n    oneButton,\n    onClickLeft,\n    onClickRight,\n    children,\n  } = props;\n\n  const styles = {};\n\n  return <CardContainer {...styles}>{children}</CardContainer>;\n};\n\nexport default Card;\n\nconst CardContainer = styled.div`\n  position: absolute;\n  top: calc(50% - 300px);\n  left: calc(50% - 180px);\n  height: fit-content;\n  width: 360px;\n  padding: 36px;\n  background-color: ${Colors.surface};\n  border: 0.8px solid rgba(255, 255, 255, 0.2);\n  border-radius: 6px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../elements/Colors\";\nimport { Button, Text, Spacing } from \"../elements\";\n\nconst ButtonWrap = (props) => {\n  const {\n    btnRight,\n    btnLeft,\n    oneButton,\n    onClickRight,\n    onClickLeft,\n  } = props;\n\n  const styles = {\n  };\n\n  if (oneButton) {\n    return (\n      <ButtonContainer>\n        <FlexContiner></FlexContiner>\n        <ButtonContainerRight>\n          <Button onClick={onClickRight} margin=\"0 -12px -12px\">{btnRight}</Button>\n        </ButtonContainerRight>\n      </ButtonContainer>\n    )\n  }\n\n  return (\n      <ButtonContainer>\n        <ButtonContainerLeft>\n          <Button onClick={onClickLeft} margin=\"0 0 -12px -12px\">{btnLeft}</Button>\n        </ButtonContainerLeft>\n        <ButtonContainerRight>\n          <Button onClick={onClickRight} margin=\"0 -12px -12px\">{btnRight}</Button>\n        </ButtonContainerRight>\n      </ButtonContainer>\n  );\n}\n\nexport default ButtonWrap;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n`\n\nconst ButtonContainerLeft = styled.div`\n  display: flex;\n  order: 0;\n  flex-grow: 1;\n`\n\nconst ButtonContainerRight = styled.div`\n  display: flex;\n  order: 1;\n  flex-grow: 0;\n`\n\nconst FlexContiner = styled.div`\n  display: flex;\n  order: 0;\n  flex-grow: 1;\n  width: 10px;\n`","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport { history } from \"../redux/configureStore\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n} from \"../elements/index\";\nimport { WaitingCreatingProof } from \"./index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators as nftActions } from \"../redux/modules/nft\";\n\nfunction AfterConnect(props) {\n  const dispatch = useDispatch();\n  const isLoading = useSelector((state) => state.nft.isLoading);\n\n  const _provider = useSelector((state) => state.user.provider);\n  function onClickRight() {\n    dispatch(nftActions._handleProve(_provider));\n  }\n\n  return (\n    <>\n      {!isLoading ? (\n        <Card>\n          <Text bold>Congrlatulate!</Text>\n          <Spacing size=\"20px\" />\n          <Text>You are a winner of this stage!</Text>\n          <Text>Claim your NFT.</Text>\n          <Spacing size=\"20px\" />\n          <RadioButton name=\"claimType\" id=\"1\" label=\"Claim\" disabled={true}>\n            Receive reward with your original address\n          </RadioButton>\n          <Spacing size=\"20px\" />\n          <RadioButton name=\"claimType\" id=\"2\" label=\"Secret Claim\">\n            Receive reward with your second address <br /> to hide your score\n            from other players\n          </RadioButton>\n          <Spacing size=\"20px\" />\n          <ButtonWrap\n            oneButton\n            onClickRight={onClickRight}\n            btnRight=\"Create Proof\"\n          />\n        </Card>\n      ) : (\n        <WaitingCreatingProof />\n      )}\n    </>\n  );\n}\n\nexport default AfterConnect;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n  Link,\n  Loading,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\n\nfunction CheckingReward(props) {\n  function onClickRight() {}\n  function onClickLeft() {}\n\n  // React.useEffect(() => {\n  //   setTimeout(function () {\n  //     history.push(\"/2\");\n  //   }, 3000);\n  // }, []);\n\n  return (\n    <>\n      <>\n        <Card>\n          <Loading />\n          <Spacing size=\"10px\" />\n          <Text bold>Waiting...</Text>\n          <Spacing size=\"20px\" />\n          <Text>We're checking your score.</Text>\n        </Card>\n      </>\n    </>\n  );\n}\n\nexport default CheckingReward;\n","import React from \"react\";\n\nfunction CheckIcon() {\n  return (\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.74998 12.1275L4.14748 9.525C3.85498 9.2325 3.38248 9.2325 3.08998 9.525C2.79748 9.8175 2.79748 10.29 3.08998 10.5825L6.22498 13.7175C6.51748 14.01 6.98998 14.01 7.28248 13.7175L15.2175 5.7825C15.51 5.49 15.51 5.0175 15.2175 4.725C14.925 4.4325 14.4525 4.4325 14.16 4.725L6.74998 12.1275Z\"\n        fill=\"#6FCF97\"\n      />\n    </svg>\n  );\n}\n\nexport default CheckIcon;\n","import React from \"react\";\n\nfunction FailedIcon() {\n  return (\n    <svg\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M13.725 4.2825C13.4325 3.99 12.96 3.99 12.6675 4.2825L9.00004 7.9425L5.33254 4.275C5.04004 3.9825 4.56754 3.9825 4.27504 4.275C3.98254 4.5675 3.98254 5.04 4.27504 5.3325L7.94254 9L4.27504 12.6675C3.98254 12.96 3.98254 13.4325 4.27504 13.725C4.56754 14.0175 5.04004 14.0175 5.33254 13.725L9.00004 10.0575L12.6675 13.725C12.96 14.0175 13.4325 14.0175 13.725 13.725C14.0175 13.4325 14.0175 12.96 13.725 12.6675L10.0575 9L13.725 5.3325C14.01 5.0475 14.01 4.5675 13.725 4.2825V4.2825Z\"\n        fill=\"#EB5757\"\n      />\n    </svg>\n  );\n}\n\nexport default FailedIcon;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n  Link,\n} from \"../elements\";\nimport { CheckIcon, LinkIcon } from \"../imgs/index\";\nimport { history } from \"../redux/configureStore\";\nimport { useDispatch, useSelector } from \"react-redux\";\n// import { Switch, Route, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../elements/Colors\";\nimport \"./link.css\";\n\nfunction Finish() {\n  const txHash = useSelector((state) => state.nft.txHash);\n\n  function onClickRight() {\n    history.push(\"/\");\n  }\n  function onClickLeft() {}\n\n  React.useEffect(() => {\n    console.log(txHash);\n  }, []);\n\n  return (\n    <Card>\n      <Text bold>\n        <CheckIcon />\n        Transaction has sent.\n      </Text>\n      <Spacing size=\"20px\" />\n      <Text>\n        We’ve sucessfuly sent transaction to mint NFT. <br /> Check your\n        transaction.\n      </Text>\n      <Spacing size=\"20px\" />\n\n      <Link\n        className=\"link\"\n        onClick={() =>\n          window.open(`https://goerli.etherscan.io/tx/${txHash}`, \"_blank\")\n        }\n      >\n        Check Transaction\n      </Link>\n\n      <Spacing size=\"20px\" />\n      <ButtonWrap oneBtn onClickRight={onClickRight} btnRight=\"Go Home\" />\n    </Card>\n  );\n}\n\nexport default Finish;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { ethers } from \"ethers\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\nimport { CheckingReward, AfterConnect } from \"./index\";\nimport { actionCreators as userActions } from \"../redux/modules/user\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction Home() {\n  const [data, setdata] = useState({\n    address: \"\",\n    Balance: null,\n  });\n\n  const isLoading = useSelector((state) => state.user.isLoading);\n  const dispatch = useDispatch();\n\n  const RightClick = () => {\n    dispatch(userActions.loginDB());\n  };\n  return (\n    <>\n      {isLoading ? (\n        <>\n          <CheckingReward isLoading={isLoading} />\n        </>\n      ) : (\n        <Card>\n          <Text bold>Claim Reward</Text>\n          <Spacing size=\"20px\" />\n          <Text>If you want to claim your NFT,</Text>\n          <Text>Please connect your wallet.</Text>\n          <Spacing size=\"20px\" />\n          <ButtonWrap\n            oneButton\n            onClickRight={RightClick}\n            btnRight=\"Connect Wallet\"\n          />\n        </Card>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators as nftActions } from \"../redux/modules/nft\";\n\nfunction PrivateNote() {\n  const dispatch = useDispatch();\n  const is_loading = useSelector((state) => state.user.selectedAddress);\n\n  const proofs = JSON.parse(window.localStorage.getItem(\"proofs\"));\n  const proof = JSON.stringify(proofs[proofs.length - 1]);\n  React.useEffect(() => {\n    console.log(JSON.stringify(proofs[proofs.length - 1]));\n  }, []);\n\n  function onClickRight() {\n    history.push(\"/4\");\n  }\n\n  function onClickLeft() {\n    history.goBack();\n  }\n\n  return (\n    <Card>\n      <Text bold>Save your private note</Text>\n      <Spacing size=\"20px\" />\n      <Text>\n        Please back up your note. You will need it later to withdraw your\n        deposit.\n      </Text>\n      <Spacing size=\"20px\" />\n      <Text alert>\n        Treat your note as a private key - never share it with anyone, including\n        darkforest developers.\n      </Text>\n      <Spacing size=\"20px\" />\n      <Textarea value={proof} height=\"20rem\" />\n      <Spacing size=\"20px\" />\n      <ButtonWrap\n        onClickLeft={onClickLeft}\n        onClickRight={onClickRight}\n        btnLeft=\"Back\"\n        btnRight=\"Next\"\n      />\n    </Card>\n  );\n}\n\nexport default PrivateNote;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators as nftActions } from \"../redux/modules/nft\";\nimport Web3 from \"web3\";\nimport { WaitngClaim } from \"./index\";\n\nfunction SecretClaim() {\n  const web3 = new Web3(Web3.givenProvider || \"ws://localhost:8546\");\n\n  const isLoading = useSelector((state) => state.nft.isLoading);\n\n  const dispatch = useDispatch();\n  const proofs = JSON.parse(window.localStorage.getItem(\"proofs\"));\n  const address = useSelector((state) => state.user.selectedAddress);\n  const minter = useSelector((state) => state.user.minter);\n\n  const privateNoteInputValue = React.useRef();\n  const addressInputValue = React.useRef();\n\n  const checkAddress = () => {\n    try {\n      web3.utils.toChecksumAddress(addressInputValue.current.value);\n      return true;\n    } catch (error) {\n      console.log(error);\n      console.error(\"invalid ethereum address\", error.message);\n      return false;\n    }\n  };\n\n  const checkInput = () => {\n    console.log(privateNoteInputValue.current.value);\n    if (\n      privateNoteInputValue.current.value === \"\" ||\n      privateNoteInputValue.current.value === null ||\n      privateNoteInputValue.current.value === undefined ||\n      addressInputValue.current.value === \"\" ||\n      addressInputValue.current.value === null ||\n      addressInputValue.current.value === undefined\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n  function onClickRight() {\n    console.log(checkInput());\n    if (checkInput() === false) {\n      console.log(\"Fill the blank\");\n      alert(\"Fill the blank!\");\n      return;\n    }\n    if (checkAddress() === false) {\n      alert(\"Recheck the field\");\n      return;\n    }\n    console.log(proofs.length);\n    dispatch(\n      nftActions._handleVerify(\n        addressInputValue.current.value,\n        JSON.parse(privateNoteInputValue.current.value),\n        minter\n      )\n    );\n  }\n  function onClickLeft() {\n    history.goBack();\n  }\n\n  return (\n    <>\n      {!isLoading ? (\n        <Card>\n          <Text bold>Secret Claim</Text>\n          <Spacing size=\"20px\" />\n          <Text>Enter private note and recipient wallet.</Text>\n          <Text>Reward will be trasfered to the recipient wallet.</Text>\n          <Spacing size=\"20px\" />\n          <Textarea\n            placeholder=\"Enter a private note...\"\n            _ref={privateNoteInputValue}\n            height=\"20rem\"\n          />\n          <Spacing size=\"20px\" />\n          <Input\n            placeholder=\"Type an ethereum recipient address...\"\n            _ref={addressInputValue}\n          />\n          <Spacing size=\"20px\" />\n          <ButtonWrap\n            onClickLeft={onClickLeft}\n            onClickRight={onClickRight}\n            btnLeft=\"Back\"\n            btnRight=\"Mint NFT\"\n          />\n        </Card>\n      ) : (\n        <WaitngClaim />\n      )}\n    </>\n  );\n}\n\nexport default SecretClaim;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n  Link,\n  Loading,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\n\nfunction WaitngClaim() {\n  function onClickRight() {}\n  function onClickLeft() {\n    history.goBack();\n  }\n\n  return (\n    <Card>\n      <Loading />\n      <Spacing size=\"10px\" />\n      <Text bold>Waiting...</Text>\n      <Spacing size=\"20px\" />\n      <Text>We're minting your NFT.</Text>\n    </Card>\n  );\n}\n\nexport default WaitngClaim;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n  Link,\n  Loading,\n} from \"../elements/index\";\nimport { history } from \"../redux/configureStore\";\n\nfunction WaitngCreatingProof() {\n  function onClickRight() {}\n  function onClickLeft() {\n    history.goBack();\n  }\n\n  return (\n    <Card>\n      <Loading />\n      <Spacing size=\"10px\" />\n      <Text bold>Waiting...</Text>\n      <Spacing size=\"20px\" />\n      <Text>We're Creating a proof.</Text>\n    </Card>\n  );\n}\n\nexport default WaitngCreatingProof;\n","import React, { useState, useEffect, Children } from \"react\";\nimport { Header, Card, ButtonWrap } from \"../comps/index\";\nimport {\n  Input,\n  Textarea,\n  RadioButton,\n  Button,\n  Text,\n  Spacing,\n  Link,\n} from \"../elements\";\nimport { CheckIcon, LinkIcon, FailedIcon } from \"../imgs/index\";\nimport { history } from \"../redux/configureStore\";\n\nfunction FinishFail() {\n  function onClickRight() {\n    history.push(\"/\");\n  }\n  function onClickLeft() {}\n\n  return (\n    <Card>\n      <Text bold>\n        <FailedIcon />\n        Transaction is failed.\n      </Text>\n      <Spacing size=\"20px\" />\n      <Text>Please Retry.</Text>\n      <Spacing size=\"20px\" />\n      <ButtonWrap oneBtn onClickRight={onClickRight} btnRight=\"Go Home\" />\n    </Card>\n  );\n}\n\nexport default FinishFail;\n","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { ConnectedRouter } from \"connected-react-router\";\nimport { history } from \"../redux/configureStore\";\nimport {\n  AfterConnect,\n  CheckingReward,\n  Finish,\n  Home,\n  PrivateNote,\n  SecretClaim,\n  WaitngClaim,\n  FinishFail,\n} from \"../pages\";\nimport { actionCreators as userActions } from \"../redux/modules/user\";\nimport { actionCreators as nftActions } from \"../redux/modules/nft\";\n\nimport { ethers } from \"ethers\";\n\nimport { Header, Card } from \"../comps\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction App() {\n  const { ethereum } = window;\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state) => state.user.selectedAddress);\n\n  React.useEffect(() => {\n    dispatch(userActions.loginCheckDB());\n    console.log(\"etheron\");\n    ethereum.on(\"accountsChanged\", (newAddress) => {\n      console.log(\"hi\");\n      if (newAddress === undefined) {\n        return dispatch(userActions.selectedAddress(undefined));\n      }\n\n      dispatch(userActions.selectedAddress(newAddress));\n    });\n  }, []);\n\n  return (\n    <React.Fragment>\n      <ConnectedRouter history={history}>\n        {!isLoggedIn ? (\n          <>\n            <Header />\n          </>\n        ) : (\n          <>\n            <Header connected />\n          </>\n        )}\n        {!isLoggedIn ? (\n          <>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/1\" exact component={Home} />\n            <Route path=\"/2\" exact component={Home} />\n            <Route path=\"/3\" exact component={Home} />\n            <Route path=\"/4\" exact component={Home} />\n            <Route path=\"/5\" exact component={Home} />\n            <Route path=\"/6\" exact component={Home} />\n            <Route path=\"/fail\" exact component={Home} />\n          </>\n        ) : (\n          <>\n            <Route path=\"/\" exact component={AfterConnect} />\n            <Route path=\"/1\" exact component={CheckingReward} />\n            <Route path=\"/2\" exact component={AfterConnect} />\n            <Route path=\"/3\" exact component={PrivateNote} />\n            <Route path=\"/4\" exact component={SecretClaim} />\n            <Route path=\"/5\" exact component={WaitngClaim} />\n            <Route path=\"/6\" exact component={Finish} />\n            <Route path=\"/fail\" exact component={FinishFail} />\n          </>\n        )}\n      </ConnectedRouter>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Dapp } from \"./components/Dapp\";\nimport \"./index.css\";\nimport App from \"./shared/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/configureStore\";\n\n// We import bootstrap here, but you can remove if you want\n// import \"bootstrap/dist/css/bootstrap.css\";\n\n// This is the entry point of your application, but it just renders the Dapp\n// react component. All of the logic is contained in it.\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n    {/* <Dapp /> */}\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}